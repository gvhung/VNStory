@model IEnumerable<VNStory.Web.Models.Story>
@{
    ViewBag.Title = "Truyện";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<div class="container-fluid">

    <h2>Truyện</h2>

    <div class="row py-1">
        <div class="col-md-9 me-auto">
            <h4 class="card-title">Danh sách truyện</h4>
        </div>
        <div class="col-md-3 text-end">
            @Html.ActionLink("Thêm mới", "Create", "Story", routeValues: new { Area = "Admin" }, htmlAttributes: new { @class = "btn btn-primary" })
        </div>
    </div>

    <div class="row g-5">
        <div class="col-md-12">
            <table class="table table-striped table-bordered table-sm" cellspacing="0" width="100%">
                <thead>
                    <tr>
                        <th scope="col" class="col-1">
                            #
                        </th>
                        <th scope="col" class="col-auto">
                            @Html.DisplayNameFor(model => model.Name)
                        </th>
                        <th scope="col" class="col-1">
                            @Html.DisplayNameFor(model => model.Status)
                        </th>
                        <th scope="col" class="col-1">
                            @Html.DisplayNameFor(model => model.Views)
                        </th>

                        <th scope="col" class="col-2">
                            @Html.DisplayNameFor(model => model.Index)
                        </th>

                        <th scope="col" class="col-1">

                        </th>
                        <th scope="col" class="col-1">

                        </th>
                        <th scope="col" class="col-1">

                        </th>

                    </tr>
                </thead>
                <tbody>

                    @{
                        var _index = 1;

                        foreach (var item in Model)
                        {
                                        <tr>
                                            @*<td scope="row">
                                                @_index
                                            </td>*@

                                            <td scope="row">
                                                @if (item.ImagePath != null)
                                                {
                                                    <div class="text-center">
                                                        <img src="@item.ImageUrl" class="rounded" role="tooltip" style="opacity: 1" alt="@item.Name" width="70" data-jbox-title="@item.Name" data-jbox-content="<img src='@item.ImageUrl' width='350'/>" />
                                                    </div>
                                                }
                                            </td>
                                            <td valign="middle">
                                                @Html.DisplayFor(modelItem => item.Name)
                                            </td>
                                            <td>
                                                @{
                                                    string statusName = "";
                                                    if (item.Status == 0)
                                                    {
                                                        statusName = "Mới cập nhật";
                                                    }
                                                    else if (item.Status == 1)
                                                    {
                                                        statusName = "Yêu thích";
                                                    }
                                                    else if (item.Status == 2)
                                                    {
                                                        statusName = "Đọc nhiều";
                                                    }
                                                    else if (item.Status == 0)
                                                    {
                                                        statusName = "Hoàn thành";
                                                    }
                                                }
                                                @Html.DisplayName(statusName)
                                            </td>
                                            <td valign="middle">
                                                @Html.DisplayFor(modelItem => item.Name)
                                            </td>
                                            <td valign="middle">
                                                @Html.DisplayFor(modelItem => item.Index)
                                            </td>
                                            <td valign="middle">
                                                @Html.ActionLink("Chi tiết", "Details", new { id = item.Id })
                                            </td>
                                            <td valign="middle">
                                                @Html.ActionLink("Sửa", "Edit", new { id = item.Id })
                                            </td>
                                            <td valign="middle">
                                                @Html.ActionLink("Xóa", "Delete", new { id = item.Id })
                                            </td>
                                            @*<td>
            @Html.DisplayFor(modelItem => item.Views)
        </td>
        <td>
            @Html.ActionLink("Chi tiết", "Details", new { id = item.Id })
        </td>
        <td>
            @Html.ActionLink("Sửa", "Edit", new { id = item.Id })
        </td>
        <td>
            @Html.ActionLink("Xóa", "Delete", new { id = item.Id })
        </td>*@
                                        </tr>
                            { _index++; }
                        }
                    }

                    @if (_index <= 1)
                    {
                        <tr>
                            <td colspan="8">Không có bản ghi nào</td>
                        </tr>
                    }

                </tbody>
            </table>
        </div>
    </div>

</div>